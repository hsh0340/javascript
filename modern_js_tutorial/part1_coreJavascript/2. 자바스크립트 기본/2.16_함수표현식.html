<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2.16 함수 표현식</title>
</head>

<body>
  <!-- 
    자바스크립트는 함수를 특별한 종류의 값으로 취급함.
  -->
  <script>
    // 함수 선언 방식 외에 함수 표현식(Function Expression)을 사용해서 함수를 만들 수 있음
    let sayHi = function () {
      alert('Hello');
    };
    // 함수를 생성하고 변수에 값을 할당하는 것 처럼 함수가 변수에 할당됨.
    // 함수가 어떤 방식으로 만들어졌는지에 관계없이 함수는 값이고, 따라서 변수에 할당 가능.
    // -> 함수를 만들고 그 함수를 변수 sayHi에 할당하기.
    // 함수는 값이기 때문에 alert를 이용하여 함수 코드를 출력하는 것도 가능
    function sayHi() {
      alert('Hello');
    }
    alert(sayHi); // 함수 코드가 보임
    // sayHi옆에 괄호가 없기 때문에 함수는 실행되지 않는다.
    // 자바스크립트에서는 괄호가 있어야만 함수가 호출된다.
    // 자바스크립트에서는 함수가 값이기 때문에 함수 소스코드가 문자형으로 바뀌어 출력됨.

    // 변수를 복사해 다른 변수에 할당하는 것 처럼 함수를 복사해 다른 변수에 할당할 수도 있다.
    let func = sayHi; // 함수 복사
    func(); // Hello : 복사한 함수를 실행(정상적으로 실행됨)
    sayHi(); // Hello : 본래 함수도 정상적으로 실행

    // if, for, function f 같이 중괄호로 만든 코드블록 끝엔 ;가 없어도 된다.
    // 그 외의 모든 구문에는 끝에 세미콜론을 붙이는게 좋다.

    // question: 질문, yes: 'yes'라고 답한 경우 실행되는 함수, no: 'no'라고 답한 경우 실행되는 함수
    function ask(question, yes, no) {
      if (confirm(question)) yes()
      else no();
    }

    function showOk() {
      alert('동의하셨습니다.');
    }

    function showCancel() {
      alert('취소 버튼을 누르셨습니다.');
    }

    // 사용법: 함수 showOk와 showCancel가 ask 함수의 인수로 전달됨.
    ask('동의하십니까?', showOk, showCancel);
    // 함수 ask의 인수, showOk와 showCancel은 콜백함수 또는 콜백이라고 불림.
    // 함수를 함수의 인자로 전달하고, 필요하다면 인수로 전달한 그 함수를 나중에 호출(call back)하는 것이 콜백함수.
    // 사용자가 yes라고 대답한 경우 showOk가 콜백이 되고, no라고 대답한 경우 showCancel가 콜백이 됨.
    // 함수 표현식을 사용하면 코드가 짧아짐.  
    function ask2(question, yes, no) {
      if (confirm(question)) yes()
      else no();
    }

    ask2('동의하십니까?', function() {
      alert('동의하셨습니다.');
    }, function () {
      alert('취소 버튼을 누르셨습니다.');
    })
    // 이름 없이 선언한 함수를 익명함수(anonymous function)이라고 부름.
    // 익명함수는 ask2 바깥에서는 접근할 수 없음.
  </script>
</body>

</html>