<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2.11 논리 연산자</title>
</head>

<body>
  <!-- 
  세가지 논리 연산자가 있음. : ||(OR), &&(AND), !(NOT) 
  -->
  <script>
    // OR 연산자 : ||
    // result = a || b;
    // 인수 중 하나라도 true이면 true를 반환하고 그렇지 않으면 false를 반환
    alert(true || true); // true
    alert(false || true); // true
    alert(true || false); // true
    alert(false || false); // false
    // 피연산자가 불린형이 아니라면 평가를 위해 불린형으로 변환. 1은 true, 0은 false로
    if (1 || 0) {
      // if(true || false) 와 동일하게 동작
      alert('truthy!');
    }

    let hour = 9;
    if (hour < 10 || hour > 18) {
      alert('영업시간이 아닙니다.');
    }

    hour = 12;
    let isWeekend = true;
    if (hour < 10 || hour > 18 || isWeekend) {
      alert('영업시간이 아닙니다.'); // 주말이기 때문
    }

    // OR 연산자 연산 수행 순서
    // 1. 가장 왼쪽 피연산자 부터 시작해서 오른쪽으로 피연산자 평가
    // 2. 각 피연산자 값을 불린형으로 변환. 변환 후 그 값이 true이면 연산을 멈추고 해당 피연산자의 변환 전 원래 값 반환
    // 3. 피연산자에 truthy가 하나도 없다면 마지막 피연산자를 반환함.
    alert(undefined || null || 0); // 0 (모두 falsy이므로, 마지막 값을 반환)

    let firstName = '';
    let lastName = '';
    let nickName = '바이올렛';
    alert(firstName || lastName || nickName || '익명'); // 바이올렛

    // truth를 만나면 나머지 값들은 건드리지 않은 채 평가를 멈춤 - 단락 평가라고 함.
    true || alert('not printed'); // true를 만나자마자 평가를 멈추기 때문에 alert가 실행되지 않음.
    false || alert('printed');
    // 단락평가는 연산자 왼쪽 조건이 falsy일 때만 명령어를 실행하고자 할 때 자주 쓰임

    // AND 연산자 : &&
    // result = a && b;
    // 두 피연산자가 모두 참일 때 true를 반환. 그 외의 경우는 false를 반환
    alert(true && true); // true
    alert(false && true); // false
    alert(true && false); // false
    alert(false && false); // false

    let minute = 30;
    if (hour == 12 && minute == 30) {
      alert('현재 시각은 12시 30분 입니다.');
    }
    // AND 연산자의 피연산자도 타입에 제약이 없음
    if (1 && 0) {
      // 피연산자가 숫자형이지만 논리형으로 바뀌어 true && false 가 됨
      alert('if문 안에 falsy가 들어가있으므로 alert창은 실행되지 않습니다.')
    }

    // AND 연산자 동작 순서
    // 1. 가장 왼쪽 피연산자부터 시작해 오른쪽으로 평가
    // 2. 각 피연산자는 불린형으로 변환. 변환 후 값이 false이면 평가를 멈추고 해당 피연산자의 변환 전 원래 값을 반환
    // 3. 피연산자 모두가 평가되는 경우(모든 피연산자가 true)에는 마지막 피연산자 반환
    // AND 연산자는 첫번째 falsy를 반환하고 OR 연산자는 첫번째 truthy를 반환함

    alert(1 && 0); // 0
    alert(1 && 5); // 5
    alert(null && 5); // null
    alert(0 && '아무거나 와도 상관없습니다.'); // 0
    alert(1 && 2 && null && 3); // null
    alert(1 && 2 && 3); // 마지막 값, 3

    // AND 연산자가 OR 연산자보다 우선순위 높음

    // NOT 연산자 : !
    // result = !value;
    // 피연산자를 불린형으로 변환하고 역을 변환된 값의 역을 반환함
    alert(!true); // false
    alert(!0); // true

    // NOT을 두개 연달아 사용하면 값을 불린형으로 변환할 수 있음.
    alert(!!'non-empty string'); // true
    alert(!!null); // false
    // 내장함수 Boolean을 사용하면 같은 결과를 도출할 수 있음
    alert(Boolean('non-empty string')); // true
    alert(Boolean(null)); // false

    // 프롬프트 창에 아무것도 입력하지 않으면 ''를, esc를 누르면 null 이 반환됨.
    let user = prompt("Who's there?", '');
    if (user == 'Admin') {
      let password = prompt('Password?', '');
      if (password == 'TheMaster') {
        alert('Welcome!');
      } else if (password == '' || password == null) {
        alert('Canceled');
      } else {
        alert('Wrong password');
      }
    } else if (user == '' || user == null) {
      alert('Canceled');
    } else {
      alert("I don't know you");
    }
  </script>
</body>

</html>